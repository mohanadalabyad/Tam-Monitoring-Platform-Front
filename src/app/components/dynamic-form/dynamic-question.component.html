<div class="dynamic-question" [class.required]="question.isRequired" [class.invalid]="isInvalid()">
  <label class="question-label">
    {{ question.text }}
    <span class="required-indicator" *ngIf="question.isRequired">*</span>
  </label>

  <!-- Text Input (Type 1) -->
  <input
    *ngIf="question.questionType === QuestionType.Text"
    type="text"
    [value]="value || ''"
    (input)="onValueChange($any($event.target).value)"
    [placeholder]="question.text"
    class="text-input"
  />

  <!-- Yes/No (Type 2) -->
  <div *ngIf="question.questionType === QuestionType.YesNo" class="yesno-group">
    <label class="yesno-option">
      <input
        type="radio"
        [name]="'yesno-' + question.id"
        value="نعم"
        [checked]="value === 'نعم'"
        (change)="onValueChange('نعم')"
      />
      <span>نعم</span>
    </label>
    <label class="yesno-option">
      <input
        type="radio"
        [name]="'yesno-' + question.id"
        value="لا"
        [checked]="value === 'لا'"
        (change)="onValueChange('لا')"
      />
      <span>لا</span>
    </label>
  </div>

  <!-- Rating (Type 3) - 1-5 scale -->
  <div *ngIf="question.questionType === QuestionType.Rating" class="rating-group">
    <div class="rating-options">
      <label *ngFor="let i of [1,2,3,4,5]" class="rating-option">
        <input
          type="radio"
          [name]="'rating-' + question.id"
          [value]="i"
          [checked]="value === toString(i)"
          (change)="onValueChange(toString(i))"
        />
        <span class="rating-number">{{ i }}</span>
      </label>
    </div>
    <div class="rating-labels">
      <span>منخفض</span>
      <span>عالٍ</span>
    </div>
  </div>

  <!-- MultipleChoice (Type 4) - Dropdown with options from JSON -->
  <select
    *ngIf="question.questionType === QuestionType.MultipleChoice"
    [value]="value || ''"
    (change)="onValueChange($any($event.target).value)"
    class="dropdown-input"
  >
    <option value="">اختر...</option>
    <option *ngFor="let option of getOptions()" [value]="option">
      {{ option }}
    </option>
  </select>

  <!-- Date (Type 5) -->
  <input
    *ngIf="question.questionType === QuestionType.Date"
    type="date"
    [value]="value || ''"
    (input)="onValueChange($any($event.target).value)"
    class="date-input"
  />

  <!-- Number (Type 6) -->
  <input
    *ngIf="question.questionType === QuestionType.Number"
    type="number"
    [value]="value || ''"
    (input)="onValueChange($any($event.target).value)"
    class="number-input"
  />

  <div class="error-message" *ngIf="isInvalid()">
    {{ getErrorMessage() }}
  </div>
</div>
